<?phprequire_once "clases/AccesoDatos.php";require_once "clases/Usuario.php";$queMuestro = isset($_POST['queMuestro']) ? $_POST['queMuestro'] : NULL;switch ($queMuestro) {    case "2":        //LOGOUT		//IMPLEMENTAR...        session_start();        if (isset($_SESSION["Usuario"]))        {            session_unset();            echo "Ok";        }        else            echo "No Ok";        break;    case "3":        //MOSTRAR GRILLA		//IMPLEMENTAR...        require_once "grilla.php";        break;    case "4":        //MUESTRA FORM ALTA-MODIFICACION USUARIO		//IMPLEMENTAR...        require_once "form.php";        break;    case "5":        //SUBIR FOTO AL TMP		//IMPLEMENTAR...        require_once "clases/Archivo.php";        $resultado = new stdClass();        if (!isset($_FILES["imagenModificada"]))        {            $resultado->exito = FALSE;            $resultado->mensaje = "ERROR";            echo json_encode($resultado);        }        else        {            $resultado = Archivo::Subir();            echo json_encode($resultado);        }        break;    case "6"://ALTA USUARIO		//IMPLEMENTAR...        break;    case "7":        //ELIMINAR USUARIO		//IMPLEMENTAR...        require_once "clases/Archivo.php";        $resultado = new stdClass();        $resultado->exito = TRUE;        if (!isset($_POST["idEliminar"]) || !isset($_POST["fotoEliminar"]))        {            $resultado->exito = FALSE;            $resultado->mensaje = "ERROR";        }        else        {            if (session_id() == '')                session_start();            if (isset($_SESSION["Usuario"]))            {                $usuarioEnSesion = json_decode($_SESSION["Usuario"]);                if ($usuarioEnSesion->id == $_POST["idEliminar"])                {                    $resultado->exito = FALSE;                    $resultado->mensaje = "No se puede eliminar a si mismo.";                }                else                {                    if (Usuario::Borrar($_POST["idEliminar"]))                    {                        Archivo::Borrar($_POST["fotoEliminar"]);                        $resultado->mensaje = "Usuario eliminado.";                    }                    else                    {                        $resultado->exito = FALSE;                        $resultado->mensaje = "Ha ocurrido un error al querer eliminar al usuario.";                    }                }            }        }        echo json_encode($resultado);        break;            case "8":        //MODIFICAR USUARIO		//IMPLEMENTAR...        require_once "clases/Archivo.php";        $resultado = new stdClass();        $resultado->exito = TRUE;        $resultado->usuarioEnSesionModificado = FALSE;        if (!isset($_POST["usuarioModificado"]))        {            $resultado->exito = FALSE;            $resultado->mensaje = "ERROR";            echo json_encode($resultado);        }        else        {            $usuarioModificado = json_decode($_POST["usuarioModificado"]);            $usuarioOriginal = new Usuario($usuarioModificado->id);            $origen = $_POST["fotoNueva"];            $destino = "fotos/" . $usuarioModificado->foto;            $fotoModificada = substr_count($origen, "tmp/") > 0;            if (!$fotoModificada || Archivo::Mover($origen, $destino))            {                if (Usuario::Modificar($usuarioModificado))                {                    $resultado->mensaje = "El usuario ha sido modificado.";                    if ($fotoModificada)                        Archivo::Borrar("fotos/" . $usuarioOriginal->foto);                    // Actualizar usuario en sesion si fue modificado.                    if (session_id() == '')                        session_start();                    if (isset($_SESSION["Usuario"]))                    {                        $usuarioEnSesion = json_decode($_SESSION["Usuario"]);                        if ($usuarioEnSesion->id == $usuarioModificado->id)                        {                            $_SESSION["Usuario"] = json_encode($usuarioModificado);                            $resultado->usuarioEnSesionModificado = TRUE;                            $resultado->usuarioEnSesionNombre = $usuarioModificado->nombre;                            $resultado->usuarioEnSesionPerfil = $usuarioModificado->perfil;                            $resultado->usuarioEnSesionFoto = $destino;                        }                    }                }                else                {                    $resultado->mensaje = "Ocurrio un error al modificar al usuario.";                    $resultado->exito = FALSE;                }            }            else            {                $resultado->mensaje = "Ocurrio un error al guardar la imagen.";                $resultado->exito = FALSE;               }            echo json_encode($resultado);        }        break;	case "9"://ELEGIR THEME		//IMPLEMENTAR...		break;		case "10"://GUARDA EN COOKIE EL THEME		//IMPLEMENTAR...		break;		    default:        echo ":(";}