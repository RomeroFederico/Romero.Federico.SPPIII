<?phpclass Archivo {    public static function Subir()    {		//IMPLEMENTAR...    	$resultado = new stdClass();    	$resultado->exito = TRUE;    	if (!file_exists($_FILES["imagenModificada"]["tmp_name"]))    	{    		$resultado->exito = FALSE;			$resultado->mensaje = "Error al subir la imagen. ";			return $resultado;    	}    	$tipoArchivo = pathinfo($_FILES["imagenModificada"]["name"], PATHINFO_EXTENSION);    	date_default_timezone_set("America/Argentina/Buenos_Aires");		$archivoTmp = $_POST["idFoto"] . "_" . date("Ymd_His") . "." . $tipoArchivo;		$destino = "tmp/" . $archivoTmp;		if(getimagesize($_FILES["imagenModificada"]["tmp_name"]) === false)		{			$resultado->exito = FALSE;			$resultado->mensaje = "El archivo seleccionado no es una imagen. ";			return $resultado;		}		if($tipoArchivo != "jpg" && $tipoArchivo != "jpeg" && $tipoArchivo != "gif" && $tipoArchivo != "png")		{				$resultado->exito = FALSE;				$resultado->mensaje = "Tipo de imagen no permitido. ";				return $resultado;		}		if (file_exists($destino))		{			$$resultado->exito = FALSE;			$resultado->mensaje = "La imagen ya se ha subido. ";			return $resultado;		}		if ($_FILES["imagenModificada"]["size"] > 500000)		{			$resultado->exito = FALSE;			$resultado->mensaje = "La imagen supera el peso maximo. ";			return $resultado;		}		if (!move_uploaded_file($_FILES["imagenModificada"]["tmp_name"], $destino))		{			$resultado->exito = FALSE;			$resultado->mensaje = "La imagen no se pudo guardar. ";			return $resultado;		}		if (substr_count($_POST["fotoAnterior"], "tmp/") > 0)			Archivo::Borrar($_POST["fotoAnterior"]);		// Preguntar que hacer con los archivos temporales.				$resultado->imagenSubida = $archivoTmp;		$resultado->imagenSubidaRuta = $destino;		return $resultado;    }    public static function Borrar($path)    {		//IMPLEMENTAR...		return unlink($path);    }    public static function Mover($pathOrigen, $pathDestino)    {		//IMPLEMENTAR...		if (!file_exists($pathOrigen) || file_exists($pathDestino))			return FALSE;		if (copy($pathOrigen, $pathDestino))			return Archivo::Borrar($pathOrigen);		return FALSE;    }    public static function AgregarEliminadoJSON($obj)	{		$ruta = "./usuariosEliminados.JSON";		$eliminados = "";		if (!file_exists($ruta))		{			$archivo = fopen($ruta, "w");			$eliminados = "[]";			fclose($archivo);		}		$archivo = fopen("./usuariosEliminados.JSON", "r");		while (!feof($archivo))			$eliminados .= fgets($archivo);		fclose($archivo);		$eliminados = trim($eliminados, "\n\r");		$eliminados = trim($eliminados, "]");		if ($eliminados != "[")			$eliminados = $eliminados . ",\n\r";		$archivo = fopen($ruta, "w");		$objetoJSON = $obj;		fwrite($archivo, $eliminados . $objetoJSON . "]");		fclose($archivo);	}}